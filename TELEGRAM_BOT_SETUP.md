# Настройка Telegram Bot API для парсинга каналов

## Шаг 1: Создание Telegram бота

1. Откройте Telegram и найдите бота [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Введите имя для вашего бота (например: "Dvizh Event Parser")
4. Введите username для бота (например: "dvizh_event_parser_bot")
5. Скопируйте полученный **Bot Token** (выглядит как `123456789:ABCdefGHIjklMNOpqrsTUVwxyz`)

## Шаг 2: Настройка бота

1. Отправьте команду `/setprivacy` боту @BotFather
2. Выберите вашего бота
3. Выберите `Disable` - это позволит боту читать все сообщения в каналах

## Шаг 3: Добавление бота в каналы

1. Добавьте бота в каждый канал, который хотите парсить
2. Дайте боту права администратора (не обязательно, но рекомендуется)
3. Убедитесь, что канал публичный

## Шаг 4: Настройка в приложении

1. Откройте файл `functions/config.js`
2. Замените `your_telegram_bot_token_here` на ваш Bot Token:

```javascript
telegram: {
    bot_token: '123456789:ABCdefGHIjklMNOpqrsTUVwxyz'
}
```

## Шаг 5: Тестирование

После настройки бот будет:
- Автоматически получать сообщения из каналов
- Извлекать реальные ссылки на посты
- Парсить события с помощью YandexGPT
- Сохранять в Firebase

## Ограничения Bot API

- Bot API может получать только сообщения из каналов, где бот является участником
- Некоторые каналы могут быть недоступны через Bot API
- В таких случаях система автоматически переключится на веб-скраппинг

## Безопасность

⚠️ **Важно**: Никогда не публикуйте ваш Bot Token в открытом доступе!
- Используйте переменные окружения в продакшене
- Храните токен в безопасном месте
- Регулярно обновляйте токен при необходимости
