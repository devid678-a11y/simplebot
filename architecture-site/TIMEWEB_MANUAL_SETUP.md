# üöÄ –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ Timeweb

## ‚úÖ –®–∞–≥ 1: –ü—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ Git

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `simplebot`!

## üìã –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å Timeweb Cloud:

1. **–ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å:** https://timeweb.cloud
2. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
3. **–¢–∏–ø:** Frontend
4. **VCS –ø—Ä–æ–≤–∞–π–¥–µ—Ä:** GitHub (devid678-a11y)
5. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** `simplebot`
6. **–í–µ—Ç–∫–∞:** `main`
7. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–±–æ—Ä–∫–∏:**
   - **Framework:** React
   - **Build –∫–æ–º–∞–Ω–¥–∞:** 
     ```
     cd architecture-site && npm install && npm run build
     ```
   - **Index directory:** `architecture-site/dist`
   - **–ü—Ä–µ—Å–µ—Ç:** Frontend app (ID: 1451 - 1‚ÇΩ/–º–µ—Å –¥–ª—è —Ç–µ—Å—Ç–∞)
8. **–ù–∞–∑–≤–∞–Ω–∏–µ:** `Architecture Bureau`
9. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"**

### –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:

- –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://architecture-bureau-xxx.timeweb.cloud`
- –°–∞–π—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ Git

---

## üîß –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è WordPress

### –ß–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å Timeweb:

1. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è** ‚Üí **–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **–¢–∏–ø:** Backend
3. **–ü—Ä–µ—Å–µ—Ç:** Backend app (ID: 1631 - 250‚ÇΩ/–º–µ—Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)
4. **–ù–∞–∑–≤–∞–Ω–∏–µ:** `WordPress CMS`
5. **–ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"**

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ WordPress:

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SSH

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é —á–µ—Ä–µ–∑ SSH**
2. **–°–∫–∞—á–∞–π—Ç–µ WordPress:**
   ```bash
   wget https://wordpress.org/latest.tar.gz
   tar -xzf latest.tar.gz
   mv wordpress/* .
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:**
   - –í –ø–∞–Ω–µ–ª–∏ Timeweb: –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö ‚Üí –°–æ–∑–¥–∞—Ç—å MySQL
   - –ó–∞–ø–æ–º–Ω–∏—Ç–µ: –∏–º—è –ë–î, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –ø–∞—Ä–æ–ª—å, —Ö–æ—Å—Ç

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ wp-config.php:**
   ```bash
   cp wp-config-sample.php wp-config.php
   nano wp-config.php
   ```
   
   –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ë–î:
   ```php
   define('DB_NAME', '–∏–º—è_–±–∞–∑—ã');
   define('DB_USER', '–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');
   define('DB_PASSWORD', '–ø–∞—Ä–æ–ª—å');
   define('DB_HOST', '—Ö–æ—Å—Ç');
   ```

5. **–ó–∞–≤–µ—Ä—à–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —É—Å—Ç–∞–Ω–æ–≤–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Docker (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ `Dockerfile`:
```dockerfile
FROM wordpress:latest
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –æ–±—Ä–∞–∑ WordPress.

---

## üîó –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WordPress REST API

### WordPress REST API –≤–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é!

**–ë–∞–∑–æ–≤—ã–π URL:**
```
https://your-wordpress-app.timeweb.cloud/wp-json/wp/v2/
```

### –ü–æ–ª–µ–∑–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

- **–ü–æ—Å—Ç—ã:** `/wp-json/wp/v2/posts`
- **–°—Ç—Ä–∞–Ω–∏—Ü—ã:** `/wp-json/wp/v2/pages`
- **–ú–µ–¥–∏–∞:** `/wp-json/wp/v2/media`
- **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:** `/wp-json/wp/v2/categories`

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. **ACF to REST API** - –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –ø–æ–ª–µ–π
2. **JWT Authentication** - –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. **CORS Headers** - –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

---

## üíª –®–∞–≥ 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ React

### –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å –¥–ª—è WordPress API:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `src/services/wordpress.js`:

```javascript
const WORDPRESS_API = 'https://your-wordpress-app.timeweb.cloud/wp-json/wp/v2'

export const getPosts = async () => {
  try {
    const response = await fetch(`${WORDPRESS_API}/posts?_embed`)
    if (!response.ok) throw new Error('Failed to fetch posts')
    return await response.json()
  } catch (error) {
    console.error('Error fetching posts:', error)
    return []
  }
}

export const getPages = async () => {
  try {
    const response = await fetch(`${WORDPRESS_API}/pages`)
    if (!response.ok) throw new Error('Failed to fetch pages')
    return await response.json()
  } catch (error) {
    console.error('Error fetching pages:', error)
    return []
  }
}

export const getPost = async (id) => {
  try {
    const response = await fetch(`${WORDPRESS_API}/posts/${id}?_embed`)
    if (!response.ok) throw new Error('Failed to fetch post')
    return await response.json()
  } catch (error) {
    console.error('Error fetching post:', error)
    return null
  }
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:

–û–±–Ω–æ–≤–∏—Ç–µ `src/pages/Blog.jsx`:

```javascript
import { useEffect, useState } from 'react'
import { getPosts } from '../services/wordpress'

const Blog = () => {
  const [posts, setPosts] = useState([])
  const [loading, setLoading] = useState(true)

  useEffect(() => {
    getPosts().then(posts => {
      setPosts(posts)
      setLoading(false)
    })
  }, [])

  if (loading) return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>

  return (
    <div className="blog-page">
      <div className="container">
        <h1>–ë–õ–û–ì</h1>
        <div className="blog-posts">
          {posts.map(post => (
            <article key={post.id} className="blog-post">
              {post._embedded?.['wp:featuredmedia']?.[0]?.source_url && (
                <img 
                  src={post._embedded['wp:featuredmedia'][0].source_url} 
                  alt={post.title.rendered}
                />
              )}
              <h2>{post.title.rendered}</h2>
              <div 
                dangerouslySetInnerHTML={{ __html: post.excerpt.rendered }} 
              />
              <a href={`/blog/${post.slug}`}>–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ</a>
            </article>
          ))}
        </div>
      </div>
    </div>
  )
}
```

---

## üîí –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS

–í WordPress –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ü–ª–∞–≥–∏–Ω

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–≥–∏–Ω **"CORS Headers"** –≤ WordPress

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í functions.php

–î–æ–±–∞–≤—å—Ç–µ –≤ `wp-content/themes/your-theme/functions.php`:

```php
function add_cors_headers() {
    header('Access-Control-Allow-Origin: https://your-frontend-app.timeweb.cloud');
    header('Access-Control-Allow-Methods: GET, POST, OPTIONS');
    header('Access-Control-Allow-Headers: Content-Type');
}
add_action('init', 'add_cors_headers');
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
Timeweb Cloud:
‚îú‚îÄ‚îÄ Frontend App (React)
‚îÇ   ‚îú‚îÄ‚îÄ URL: https://architecture-bureau-xxx.timeweb.cloud
‚îÇ   ‚îî‚îÄ‚îÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞ –ø—Ä–∏ push
‚îÇ
‚îî‚îÄ‚îÄ Backend App (WordPress)
    ‚îú‚îÄ‚îÄ URL: https://wordpress-cms-xxx.timeweb.cloud
    ‚îú‚îÄ‚îÄ –ê–¥–º–∏–Ω–∫–∞: /wp-admin
    ‚îî‚îÄ‚îÄ REST API: /wp-json/wp/v2/
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç:

- [ ] –°–æ–∑–¥–∞—Ç—å Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Timeweb
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞
- [ ] –°–æ–∑–¥–∞—Ç—å Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è WordPress
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å WordPress
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å wp-config.php
- [ ] –ó–∞–≤–µ—Ä—à–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É WordPress —á–µ—Ä–µ–∑ –≤–µ–±
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω—ã (CORS, ACF to REST API)
- [ ] –°–æ–∑–¥–∞—Ç—å —Å–µ—Ä–≤–∏—Å WordPress API –≤ React
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CORS
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É

---

## üí° –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- WordPress REST API: https://developer.wordpress.org/rest-api/
- Timeweb Cloud: https://timeweb.cloud
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è WordPress: https://wordpress.org/support/

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. –°–æ–∑–¥–∞–π—Ç–µ Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å Timeweb
2. –°–æ–∑–¥–∞–π—Ç–µ Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è WordPress
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ WordPress
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

**–ì–æ—Ç–æ–≤–æ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ!** üöÄ

